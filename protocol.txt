# Описание протокола - Список команд(JSON)
# Каждое сообщение содержит поле "message": "registration/players/start_game/end_game/move"
# Сейчас просто смотрим есть ли какое-то поле и так определяем команду - бытует мнение, что сомнительно

//Регистрация на сервере(все шлют серверу сразу после подключения)
{
  "name": "Fedor's machine" //оно же id
}

// Список игроков(от сервера отображению сразу после подключения отображения и при регистрации новой машины)
// Можно договориться, что отображение регистрируется всегда с именем "viewer" или добавить поле-признак отображения в сообщение регистрации
{
  "message": "players"
  "names": ["Fedor's machine", "Pedro's machine", ...]
}

// Старт игры(от отображения серверу по клику пользователя)
{
  "message": "start_game"
  "white": "Fedor's machine",  
  "black": "Pedro's machine",
  "seconds_per_turn": 2
}

// Старт игры(от сервера машинам-игрокам)
{
  "message": "start_game"
  "color": "white",
  "seconds_per_turn": 2
}

// Ход(от машин-игроков серверу и от сервера всем)
{
  "message": "move"
  "from": "E2"
  "to": "E4"
  "transform": "Queen/Knight/Rook/Bishop" //только в случае превращения пешки
}

// Конец игры(от сервера всем)
{
  "message": "end_game"
  "winner": "Pedro's machine"
  "reason": "Мат/Невозможный ход/Просрочка времени/..."
}
